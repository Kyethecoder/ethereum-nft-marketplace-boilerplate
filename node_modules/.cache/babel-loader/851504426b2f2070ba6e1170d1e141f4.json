{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kye Goullet\\\\Documents\\\\opensea Dapp\\\\ethereum-nft-marketplace-boilerplate\\\\src\\\\components\\\\NFTMarketTransactions.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useMoralis, useMoralisQuery } from \"react-moralis\";\nimport { useMoralisDapp } from \"providers/MoralisDappProvider/MoralisDappProvider\";\nimport { Table, Tag, Space } from \"antd\";\nimport { PolygonCurrency } from \"./Chains/Logos\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst styles = {\n  table: {\n    margin: \"0 auto\",\n    width: \"1000px\"\n  }\n};\n\nfunction NFTMarketTransactions() {\n  _s();\n\n  const {\n    walletAddress\n  } = useMoralisDapp();\n  const {\n    Moralis\n  } = useMoralis();\n  const queryItemImages = useMoralisQuery(\"ItemImages\");\n  const fetchItemImages = JSON.parse(JSON.stringify(queryItemImages.data, [\"nftContract\", \"tokenId\", \"name\", \"image\"]));\n  const queryMarketItems = useMoralisQuery(\"MarketItems\");\n  const fetchMarketItems = JSON.parse(JSON.stringify(queryMarketItems.data, [\"updatedAt\", \"price\", \"nftContract\", \"itemId\", \"sold\", \"tokenId\", \"seller\", \"owner\"])).filter(item => item.seller === walletAddress || item.owner === walletAddress).sort((a, b) => a.updatedAt < b.updatedAt ? 1 : b.updatedAt < a.updatedAt ? -1 : 0);\n\n  function getImage(addrs, id) {\n    const img = fetchItemImages.find(element => element.nftContract === addrs && element.tokenId === id);\n    return img === null || img === void 0 ? void 0 : img.image;\n  }\n\n  function getName(addrs, id) {\n    const nme = fetchItemImages.find(element => element.nftContract === addrs && element.tokenId === id);\n    return nme === null || nme === void 0 ? void 0 : nme.name;\n  }\n\n  const columns = [{\n    title: \"Date\",\n    dataIndex: \"date\",\n    key: \"date\"\n  }, {\n    title: \"Item\",\n    key: \"item\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: getImage(record.collection, record.item),\n        style: {\n          width: \"40px\",\n          borderRadius: \"4px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"#\", record.item]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: \"Collection\",\n    key: \"collection\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: getName(record.collection, record.item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: \"Transaction Status\",\n    key: \"tags\",\n    dataIndex: \"tags\",\n    render: tags => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: tags(index => {\n        let color = \"geekblue\";\n        let status = \"BUY\";\n\n        if (tag === false) {\n          color = \"volcano\";\n          status = \"waiting\";\n        } else if (tag === true) {\n          color = \"green\";\n          status = \"confirmed\";\n        }\n\n        if (tag === walletAddress) {\n          status = \"SELL\";\n        }\n\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: color,\n          children: status.toUpperCase()\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false)\n  }, {\n    title: \"Price\",\n    key: \"price\",\n    dataIndex: \"price\",\n    render: e => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(PolygonCurrency, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: e\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)\n  }];\n  const data = fetchMarketItems === null || fetchMarketItems === void 0 ? void 0 : fetchMarketItems.map((item, index) => ({\n    key: index,\n    date: moment(item.updatedAt).format(\"DD-MM-YYYY HH:mm\"),\n    collection: item.nftContract,\n    item: item.tokenId,\n    tags: [item.seller, item.sold],\n    price: item.price / (\"1e\" + 18)\n  }));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.table,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(NFTMarketTransactions, \"V3iZLDCUtlN0zU1Ubc+X514LyA8=\", false, function () {\n  return [useMoralisDapp, useMoralis, useMoralisQuery, useMoralisQuery];\n});\n\n_c = NFTMarketTransactions;\nexport default NFTMarketTransactions;\nconst columns = [{\n  title: \"Date\",\n  dataIndex: \"date\",\n  key: \"date\"\n}, {\n  title: \"Item\",\n  key: \"item\"\n}, {\n  title: \"Collection\",\n  key: \"collection\"\n}, {\n  title: \"Transaction Status\",\n  key: \"tags\",\n  dataIndex: \"tags\"\n}, {\n  title: \"Price\",\n  key: \"price\",\n  dataIndex: \"price\"\n}];\n\nvar _c;\n\n$RefreshReg$(_c, \"NFTMarketTransactions\");","map":{"version":3,"names":["React","useState","useMoralis","useMoralisQuery","useMoralisDapp","Table","Tag","Space","PolygonCurrency","moment","styles","table","margin","width","NFTMarketTransactions","walletAddress","Moralis","queryItemImages","fetchItemImages","JSON","parse","stringify","data","queryMarketItems","fetchMarketItems","filter","item","seller","owner","sort","a","b","updatedAt","getImage","addrs","id","img","find","element","nftContract","tokenId","image","getName","nme","name","columns","title","dataIndex","key","render","text","record","collection","borderRadius","tags","index","color","status","tag","toUpperCase","e","map","date","format","sold","price"],"sources":["C:/Users/Kye Goullet/Documents/opensea Dapp/ethereum-nft-marketplace-boilerplate/src/components/NFTMarketTransactions.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useMoralis, useMoralisQuery } from \"react-moralis\";\r\nimport { useMoralisDapp } from \"providers/MoralisDappProvider/MoralisDappProvider\";\r\nimport { Table, Tag, Space } from \"antd\";\r\nimport { PolygonCurrency} from \"./Chains/Logos\";\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n  table: {\r\n    margin: \"0 auto\",\r\n    width: \"1000px\",\r\n  },\r\n};\r\n\r\nfunction NFTMarketTransactions() {\r\n  const { walletAddress } = useMoralisDapp();\r\n  const { Moralis } = useMoralis();\r\n  const queryItemImages = useMoralisQuery(\"ItemImages\");\r\n  const fetchItemImages = JSON.parse(\r\n    JSON.stringify(queryItemImages.data, [\r\n      \"nftContract\",\r\n      \"tokenId\",\r\n      \"name\",\r\n      \"image\",\r\n    ])\r\n  );\r\n  const queryMarketItems = useMoralisQuery(\"MarketItems\");\r\n  const fetchMarketItems = JSON.parse(\r\n    JSON.stringify(queryMarketItems.data, [\r\n      \"updatedAt\",\r\n      \"price\",\r\n      \"nftContract\",\r\n      \"itemId\",\r\n      \"sold\",\r\n      \"tokenId\",\r\n      \"seller\",\r\n      \"owner\",\r\n    ])\r\n  )\r\n    .filter(\r\n      (item) => item.seller === walletAddress || item.owner === walletAddress\r\n    )\r\n    .sort((a, b) =>\r\n      a.updatedAt < b.updatedAt ? 1 : b.updatedAt < a.updatedAt ? -1 : 0\r\n    );\r\n\r\n  function getImage(addrs, id) {\r\n    const img = fetchItemImages.find(\r\n      (element) =>\r\n        element.nftContract === addrs &&\r\n        element.tokenId === id\r\n    );\r\n    return img?.image;\r\n  }\r\n\r\n  function getName(addrs, id) {\r\n    const nme = fetchItemImages.find(\r\n      (element) =>\r\n        element.nftContract === addrs &&\r\n        element.tokenId === id\r\n    );\r\n    return nme?.name;\r\n  }\r\n\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Date\",\r\n      dataIndex: \"date\",\r\n      key: \"date\",\r\n    },\r\n    {\r\n      title: \"Item\",\r\n      key: \"item\",\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n          <img src={getImage(record.collection, record.item)} style={{ width: \"40px\", borderRadius:\"4px\"}} />\r\n          <span>#{record.item}</span>\r\n        </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Collection\",\r\n      key: \"collection\",\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n          <span>{getName(record.collection, record.item)}</span>\r\n        </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Transaction Status\",\r\n      key: \"tags\",\r\n      dataIndex: \"tags\",\r\n      render: (tags) => (\r\n        <>\r\n          {tags((index) => {\r\n            let color = \"geekblue\";\r\n            let status = \"BUY\";\r\n            if (tag === false) {\r\n              color = \"volcano\";\r\n              status = \"waiting\";\r\n            } else if (tag === true) {\r\n              color = \"green\";\r\n              status = \"confirmed\";\r\n            }\r\n            if (tag === walletAddress) {\r\n              status = \"SELL\";\r\n            }\r\n            return (\r\n              <Tag color={color} key={index}>\r\n                {status.toUpperCase()}\r\n              </Tag>\r\n            );\r\n          })}\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Price\",\r\n      key: \"price\",\r\n      dataIndex: \"price\",\r\n      render: (e) => (\r\n        <Space size=\"middle\">\r\n          <PolygonCurrency/>\r\n          <span>{e}</span>\r\n        </Space>\r\n      ),\r\n    }\r\n  ];\r\n\r\n  const data = fetchMarketItems?.map((item, index) => ({\r\n    key: index,\r\n    date: moment(item.updatedAt).format(\"DD-MM-YYYY HH:mm\"),\r\n    collection: item.nftContract,\r\n    item: item.tokenId,\r\n    tags: [item.seller, item.sold],\r\n    price: item.price / (\"1e\" + 18)\r\n  }));\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <div style={styles.table}>\r\n          <Table columns={columns} dataSource={data} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NFTMarketTransactions;\r\nconst columns = [\r\n  {\r\n    title: \"Date\",\r\n    dataIndex: \"date\",\r\n    key: \"date\",\r\n  },\r\n  {\r\n    title: \"Item\",\r\n    key: \"item\",\r\n\r\n  },\r\n  {\r\n    title: \"Collection\",\r\n    key: \"collection\",\r\n  },\r\n  {\r\n    title: \"Transaction Status\",\r\n    key: \"tags\",\r\n    dataIndex: \"tags\",\r\n  },\r\n  {\r\n    title: \"Price\",\r\n    key: \"price\",\r\n    dataIndex: \"price\",\r\n  }\r\n];"],"mappings":"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"},"metadata":{},"sourceType":"module"}